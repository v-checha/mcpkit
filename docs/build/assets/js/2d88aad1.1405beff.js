"use strict";(globalThis.webpackChunkmcpkit_docs=globalThis.webpackChunkmcpkit_docs||[]).push([[202],{8453(e,n,r){r.d(n,{R:()=>a,x:()=>i});var t=r(6540);const o={},s=t.createContext(o);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},8563(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/tools","title":"Tools","description":"Tools are the primary way to expose functionality in an MCP server. They represent actions that an AI assistant can invoke.","source":"@site/docs/guides/tools.md","sourceDirName":"guides","slug":"/guides/tools","permalink":"/mcpkit/docs/guides/tools","draft":false,"unlisted":false,"editUrl":"https://github.com/v-checha/mcpkit/tree/main/docs/docs/guides/tools.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"TypeScript Configuration","permalink":"/mcpkit/docs/getting-started/typescript-config"},"next":{"title":"Resources","permalink":"/mcpkit/docs/guides/resources"}}');var o=r(4848),s=r(8453);const a={sidebar_position:1},i="Tools",l={},c=[{value:"Basic Tool",id:"basic-tool",level:2},{value:"Tool Options",id:"tool-options",level:2},{value:"Parameter Types",id:"parameter-types",level:2},{value:"Using @Param Decorator",id:"using-param-decorator",level:3},{value:"Using Zod Schema",id:"using-zod-schema",level:3},{value:"Return Types",id:"return-types",level:2},{value:"String Response",id:"string-response",level:3},{value:"Object Response",id:"object-response",level:3},{value:"MCP Tool Result",id:"mcp-tool-result",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Protected Tools",id:"protected-tools",level:2},{value:"Monitored Tools",id:"monitored-tools",level:2},{value:"Traced Tools",id:"traced-tools",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"tools",children:"Tools"})}),"\n",(0,o.jsx)(n.p,{children:"Tools are the primary way to expose functionality in an MCP server. They represent actions that an AI assistant can invoke."}),"\n",(0,o.jsx)(n.h2,{id:"basic-tool",children:"Basic Tool"}),"\n",(0,o.jsxs)(n.p,{children:["Use the ",(0,o.jsx)(n.code,{children:"@Tool"})," decorator to expose a method as a tool:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import 'reflect-metadata';\nimport { createServer, MCPServer, Tool, Param } from '@mcpkit-dev/core';\n\n@MCPServer({ name: 'my-server', version: '1.0.0' })\nclass MyServer {\n  @Tool({ description: 'Add two numbers together' })\n  async add(\n    @Param({ name: 'a', description: 'First number' }) a: number,\n    @Param({ name: 'b', description: 'Second number' }) b: number\n  ): Promise<number> {\n    return a + b;\n  }\n}\n\nconst server = createServer(MyServer);\nawait server.listen();\n"})}),"\n",(0,o.jsx)(n.h2,{id:"tool-options",children:"Tool Options"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@Tool({\n  // Required: Description shown to the AI\n  description: 'Fetch user data from the database',\n\n  // Optional: Custom tool name (defaults to method name)\n  name: 'fetch_user',\n\n  // Optional: Explicit Zod schema for parameters\n  schema: z.object({\n    userId: z.string().uuid(),\n    includeProfile: z.boolean().optional(),\n  }),\n\n  // Optional: Tool annotations for AI behavior hints\n  annotations: {\n    destructive: false,      // Does this tool modify data?\n    requiresConfirmation: false, // Should the AI ask before executing?\n    cacheable: true,         // Can results be cached?\n  },\n})\nasync fetchUser(args: { userId: string; includeProfile?: boolean }) {\n  // implementation\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"parameter-types",children:"Parameter Types"}),"\n",(0,o.jsx)(n.h3,{id:"using-param-decorator",children:"Using @Param Decorator"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@Param"})," decorator allows fine-grained control over parameters:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@Tool({ description: 'Create a user' })\nasync createUser(\n  // Required parameter\n  @Param({\n    name: 'name',\n    description: 'User full name',\n  })\n  name: string,\n\n  // Optional parameter with default\n  @Param({\n    name: 'role',\n    description: 'User role',\n    optional: true,\n  })\n  role: 'admin' | 'user' = 'user',\n\n  // Parameter with explicit schema\n  @Param({\n    name: 'age',\n    schema: z.number().min(18).max(120),\n  })\n  age: number\n): Promise<User> {\n  // implementation\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"using-zod-schema",children:"Using Zod Schema"}),"\n",(0,o.jsx)(n.p,{children:"For complex parameter validation, use a Zod schema:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { z } from 'zod';\n\nconst CreateUserSchema = z.object({\n  name: z.string().min(1).max(100),\n  email: z.string().email(),\n  age: z.number().int().min(18),\n  role: z.enum(['admin', 'user', 'moderator']).default('user'),\n  settings: z.object({\n    notifications: z.boolean().default(true),\n    theme: z.enum(['light', 'dark']).default('light'),\n  }).optional(),\n});\n\n@Tool({\n  description: 'Create a new user account',\n  schema: CreateUserSchema,\n})\nasync createUser(args: z.infer<typeof CreateUserSchema>) {\n  const { name, email, age, role, settings } = args;\n  // implementation\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"return-types",children:"Return Types"}),"\n",(0,o.jsx)(n.p,{children:"Tools can return various types:"}),"\n",(0,o.jsx)(n.h3,{id:"string-response",children:"String Response"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@Tool({ description: 'Greet user' })\nasync greet(@Param({ name: 'name' }) name: string): Promise<string> {\n  return `Hello, ${name}!`;\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"object-response",children:"Object Response"}),"\n",(0,o.jsx)(n.p,{children:"Objects are automatically serialized to JSON:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@Tool({ description: 'Get user' })\nasync getUser(@Param({ name: 'id' }) id: string): Promise<User> {\n  return {\n    id,\n    name: 'John Doe',\n    email: 'john@example.com',\n  };\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"mcp-tool-result",children:"MCP Tool Result"}),"\n",(0,o.jsx)(n.p,{children:"For full control over the response:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ToolResult } from '@mcpkit-dev/core';\n\n@Tool({ description: 'Process image' })\nasync processImage(\n  @Param({ name: 'url' }) url: string\n): Promise<ToolResult> {\n  const image = await fetchImage(url);\n\n  return {\n    content: [\n      {\n        type: 'text',\n        text: 'Image processed successfully',\n      },\n      {\n        type: 'image',\n        data: image.base64,\n        mimeType: 'image/png',\n      },\n    ],\n  };\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,o.jsx)(n.p,{children:"Errors are automatically caught and returned as tool errors:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"@Tool({ description: 'Fetch user' })\nasync fetchUser(@Param({ name: 'id' }) id: string) {\n  const user = await db.users.findById(id);\n\n  if (!user) {\n    throw new Error(`User ${id} not found`);\n  }\n\n  return user;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"For custom error handling:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ToolExecutionError } from '@mcpkit-dev/core';\n\n@Tool({ description: 'Transfer funds' })\nasync transfer(\n  @Param({ name: 'from' }) from: string,\n  @Param({ name: 'to' }) to: string,\n  @Param({ name: 'amount' }) amount: number\n) {\n  if (amount <= 0) {\n    throw new ToolExecutionError('Amount must be positive');\n  }\n\n  // implementation\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"protected-tools",children:"Protected Tools"}),"\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"@RequireAuth"})," to protect tools:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { RequireAuth } from '@mcpkit-dev/core';\n\n@Tool({ description: 'Delete user' })\n@RequireAuth({ roles: ['admin'] })\nasync deleteUser(@Param({ name: 'id' }) id: string) {\n  await db.users.delete(id);\n  return { deleted: true };\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"monitored-tools",children:"Monitored Tools"}),"\n",(0,o.jsxs)(n.p,{children:["Add logging with ",(0,o.jsx)(n.code,{children:"@Monitor"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Monitor } from '@mcpkit-dev/core';\n\n@Tool({ description: 'Process payment' })\n@Monitor({\n  logArgs: true,\n  logResult: true,\n  logDuration: true,\n})\nasync processPayment(@Param({ name: 'amount' }) amount: number) {\n  // Execution will be logged\n  return { success: true };\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"traced-tools",children:"Traced Tools"}),"\n",(0,o.jsxs)(n.p,{children:["Add distributed tracing with ",(0,o.jsx)(n.code,{children:"@Traced"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { Traced } from '@mcpkit-dev/core';\n\n@Tool({ description: 'External API call' })\n@Traced({\n  name: 'external.api.call',\n  kind: 'client',\n  attributes: { 'api.name': 'payment-service' },\n})\nasync callExternalApi(@Param({ name: 'data' }) data: string) {\n  return await externalApi.call(data);\n}\n"})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);