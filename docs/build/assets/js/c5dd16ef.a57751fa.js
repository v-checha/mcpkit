"use strict";(globalThis.webpackChunkmcpkit_docs=globalThis.webpackChunkmcpkit_docs||[]).push([[943],{1183(e,t,r){r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"observability/metrics","title":"Metrics","description":"Prometheus-compatible metrics for monitoring.","source":"@site/docs/observability/metrics.md","sourceDirName":"observability","slug":"/observability/metrics","permalink":"/mcpkit/docs/observability/metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/v-checha/mcpkit/tree/main/docs/docs/observability/metrics.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Observability Overview","permalink":"/mcpkit/docs/observability/overview"},"next":{"title":"Distributed Tracing","permalink":"/mcpkit/docs/observability/tracing"}}');var n=r(4848),s=r(8453);const c={sidebar_position:1},o="Metrics",l={},a=[{value:"Built-in Metrics",id:"built-in-metrics",level:2}];function m(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"metrics",children:"Metrics"})}),"\n",(0,n.jsx)(t.p,{children:"Prometheus-compatible metrics for monitoring."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",children:"import 'reflect-metadata';\nimport { createServer, MCPServer, createMetricsCollector, metricsPlugin } from '@mcpkit-dev/core';\n\n// Using plugin\n@MCPServer({\n  name: 'my-server',\n  version: '1.0.0',\n  plugins: [metricsPlugin({ prefix: 'myapp_' })],\n})\nclass MyServer {}\n\nconst server = createServer(MyServer);\nawait server.listen();\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",children:"// Manual usage with hooks\nimport 'reflect-metadata';\nimport { createServer, MCPServer, createMetricsCollector } from '@mcpkit-dev/core';\n\nconst metrics = createMetricsCollector({ prefix: 'myapp_' });\n\n@MCPServer({\n  name: 'my-server',\n  version: '1.0.0',\n  hooks: metrics.getHooks(),\n})\nclass MyServerWithMetrics {}\n\nconst server = createServer(MyServerWithMetrics);\nawait server.listen();\n\n// Expose endpoint\napp.get('/metrics', (req, res) => {\n  res.set('Content-Type', 'text/plain');\n  res.send(metrics.export());\n});\n"})}),"\n",(0,n.jsx)(t.h2,{id:"built-in-metrics",children:"Built-in Metrics"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"mcpkit_tool_calls_total"})," - Total tool invocations"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"mcpkit_tool_duration_seconds"})," - Tool execution time histogram"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"mcpkit_tool_errors_total"})," - Tool error counts"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"mcpkit_active_connections"})," - Current active connections"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},8453(e,t,r){r.d(t,{R:()=>c,x:()=>o});var i=r(6540);const n={},s=i.createContext(n);function c(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);