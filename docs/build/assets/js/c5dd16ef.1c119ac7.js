"use strict";(globalThis.webpackChunkmcpkit_docs=globalThis.webpackChunkmcpkit_docs||[]).push([[943],{1183(e,t,i){i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"observability/metrics","title":"Metrics","description":"Prometheus-compatible metrics for monitoring.","source":"@site/docs/observability/metrics.md","sourceDirName":"observability","slug":"/observability/metrics","permalink":"/mcpkit/docs/observability/metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/mcpkit-dev/mcpkit/tree/main/docs/docs/observability/metrics.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Observability Overview","permalink":"/mcpkit/docs/observability/overview"},"next":{"title":"Distributed Tracing","permalink":"/mcpkit/docs/observability/tracing"}}');var r=i(4848),s=i(8453);const o={sidebar_position:1},c="Metrics",l={},a=[{value:"Built-in Metrics",id:"built-in-metrics",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"metrics",children:"Metrics"})}),"\n",(0,r.jsx)(t.p,{children:"Prometheus-compatible metrics for monitoring."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"import { createMetricsCollector, metricsPlugin } from '@mcpkit-dev/core';\n\n// Using plugin\n@MCPServer({\n  name: 'my-server',\n  version: '1.0.0',\n  plugins: [metricsPlugin({ prefix: 'myapp_' })],\n})\nclass MyServer {}\n\n// Manual usage\nconst metrics = createMetricsCollector({ prefix: 'myapp_' });\n\n@MCPServer({\n  name: 'my-server',\n  version: '1.0.0',\n  hooks: metrics.getHooks(),\n})\nclass MyServer {}\n\n// Expose endpoint\napp.get('/metrics', (req, res) => {\n  res.set('Content-Type', 'text/plain');\n  res.send(metrics.export());\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"built-in-metrics",children:"Built-in Metrics"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mcpkit_tool_calls_total"})," - Total tool invocations"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mcpkit_tool_duration_seconds"})," - Tool execution time histogram"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mcpkit_tool_errors_total"})," - Tool error counts"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"mcpkit_active_connections"})," - Current active connections"]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,t,i){i.d(t,{R:()=>o,x:()=>c});var n=i(6540);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);