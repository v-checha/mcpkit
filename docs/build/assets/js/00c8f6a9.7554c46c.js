"use strict";(globalThis.webpackChunkmcpkit_docs=globalThis.webpackChunkmcpkit_docs||[]).push([[720],{811(e,t,a){a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"advanced/gateway","title":"Gateway","description":"Proxy and load balance across upstream MCP servers.","source":"@site/docs/advanced/gateway.md","sourceDirName":"advanced","slug":"/advanced/gateway","permalink":"/mcpkit/docs/advanced/gateway","draft":false,"unlisted":false,"editUrl":"https://github.com/mcpkit-dev/mcpkit/tree/main/docs/docs/advanced/gateway.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Server Composition","permalink":"/mcpkit/docs/advanced/composition"},"next":{"title":"Observability Overview","permalink":"/mcpkit/docs/observability/overview"}}');var r=a(4848),o=a(8453);const s={sidebar_position:6},i="Gateway",c={},d=[];function l(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"gateway",children:"Gateway"})}),"\n",(0,r.jsx)(t.p,{children:"Proxy and load balance across upstream MCP servers."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"import { createGateway } from '@mcpkit-dev/core';\n\nconst gateway = createGateway({\n  name: 'api-gateway',\n  version: '1.0.0',\n  upstreams: [\n    { url: 'http://weather-server:3000', toolPrefix: 'weather_', healthCheck: true },\n    { url: 'http://news-server:3000', toolPrefix: 'news_', healthCheck: true },\n  ],\n  loadBalancing: 'round-robin', // 'random' | 'weighted' | 'least-connections'\n  circuitBreaker: {\n    failureThreshold: 5,\n    resetTimeout: 30000,\n  },\n  onUpstreamUnhealthy: (upstream, error) => {\n    console.error(`Upstream ${upstream.url} is down:`, error.message);\n  },\n});\n\nawait gateway.start();\n"})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,t,a){a.d(t,{R:()=>s,x:()=>i});var n=a(6540);const r={},o=n.createContext(r);function s(e){const t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);